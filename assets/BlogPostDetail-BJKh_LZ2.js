import{j as e}from"./ui-components-DfywtIQG.js";import{i as v,h as w,r as n}from"./react-vendor-CAIQhEhM.js";import{N as u,U as y,f as L}from"./Navbar-BQAmc0tr.js";import{c as k,L as E,B as x}from"./index-t7G3PbYA.js";import{B as P}from"./badge-DckVL3mz.js";import h from"./Footer-q2qNqWCK.js";import{m as B}from"./framer-motion-DP8BS7SU.js";import{C}from"./calendar-MNb6n0ZG.js";import"./x-BZOIuSDk.js";import"./mail-BNYft9D1.js";import"./phone-Bhy8QrlF.js";import"./github-DYpwF0tL.js";import"./linkedin-C578qZFh.js";/**
 * @license lucide-react v0.394.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=k("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),A=t=>{if(!t)return"";if(typeof t=="string"&&(t.includes("&lt;")||t.includes("&gt;"))){const a=document.createElement("textarea");return a.innerHTML=t,a.value}return t},J=()=>{var c,m;const{slug:t}=v(),a=w(),[s,f]=n.useState(null),[p,o]=n.useState(!0),[l,i]=n.useState(null);n.useEffect(()=>{(async()=>{if(!t){i("Slug manquant dans l'URL."),o(!1);return}o(!0),i(null);try{const r=await L(`/posts/${t}`);if(!r.ok){if(r.status===404)throw new Error("Article non trouvé.");const b=await r.json();throw new Error(b.error||`HTTP error! status: ${r.status}`)}const N=await r.json();f(N)}catch(r){console.error("Erreur lors de la récupération de l'article:",r),i(r.message||"Impossible de charger l'article.")}finally{o(!1)}})()},[t]);const j=d=>{const r={year:"numeric",month:"long",day:"numeric"};return new Date(d).toLocaleDateString("fr-FR",r)};if(p)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(E,{className:"h-8 w-8 animate-spin"})});if(l)return e.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[e.jsx(u,{}),e.jsx("main",{className:"pt-24 pb-20",children:e.jsxs("div",{className:"container mx-auto px-4 text-center",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4 text-destructive",children:"Erreur"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:l}),e.jsx(x,{onClick:()=>a("/blog"),children:"Retour au Blog"})]})}),e.jsx(h,{})]});if(!s)return null;const g=A(s.content);return e.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[e.jsx(u,{}),e.jsx("main",{className:"pt-24 pb-20",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-3xl",children:[e.jsx("div",{className:"mb-8",children:e.jsxs(x,{variant:"ghost",onClick:()=>a("/blog"),className:"flex items-center",children:[e.jsx(S,{className:"mr-2 h-4 w-4"})," Retour au Blog"]})}),e.jsxs(B.article,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsxs("header",{className:"mb-8",children:[s.category&&e.jsx(P,{className:"mb-2",children:s.category}),e.jsx("h1",{className:"text-4xl font-bold tracking-tight lg:text-5xl mb-4",children:s.title}),e.jsxs("div",{className:"flex items-center text-sm text-muted-foreground space-x-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(C,{className:"h-4 w-4 mr-1"}),e.jsxs("span",{children:["Publié le ",j(s.createdAt)]})]}),(((c=s.author)==null?void 0:c.firstName)||((m=s.author)==null?void 0:m.lastName))&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(y,{className:"h-4 w-4 mr-1"}),e.jsxs("span",{children:["Par ",s.author.firstName," ",s.author.lastName]})]})]})]}),e.jsx("div",{className:"prose prose-base dark:prose-invert max-w-none blog-content",dangerouslySetInnerHTML:{__html:g}})]})]})}),e.jsx(h,{})]})};export{J as default};
